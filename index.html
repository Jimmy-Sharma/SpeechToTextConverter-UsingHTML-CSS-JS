<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundScripter</title>
    <link rel="stylesheet" href="index.css">
    <link rel="shortcut icon" href="./assets/mic.png" type="image/x-icon">
</head>

<body>
    <div id="container">
        <div id="mainContainer">
            <div id="heading">
                <h1>Speech to Text Converter</h1>
            </div>
            <div id="textarea">
                <textarea name="" id="output" rows="7"></textarea>
            </div>
            <div id="buttonDiv">
                <button id="startBTN">Start</button>
                <button id="stopBTN">Stop</button>
            </div>
        </div>
    </div>
    <script>
        const recognition = new webkitSpeechRecognition();

        recognition.lang = 'en-US';
        recognition.interimResults = true;
        recognition.continuous = true;

        document.getElementById("startBTN")
        .onclick=()=>recognition.start();

        document.getElementById("stopBTN")
        .onclick=()=>recognition.stop();

        recognition.onresult= event=>{
            output.value=event.results[event.results.length -1 ][0].transcript;
        }
        navigator.mediaDevices.getUserMedia({audio:true})

    </script>
</body>

</html>